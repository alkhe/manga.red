"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=require("react"),_react2=_interopRequireDefault(_react),_mixinsNetworkMixin=require("../mixins/network-mixin"),_mixinsNetworkMixin2=_interopRequireDefault(_mixinsNetworkMixin),_hub=require("../hub"),_viewsMangaCard=require("../views/manga-card"),_viewsMangaCard2=_interopRequireDefault(_viewsMangaCard),_viewsProgress=require("../views/progress"),_viewsProgress2=_interopRequireDefault(_viewsProgress),_constantsProcessConstants=require("../constants/process-constants"),_constantsProcessConstants2=_interopRequireDefault(_constantsProcessConstants),plural=function(e){return 1==e?"":"s"};exports["default"]=_react2["default"].createClass({displayName:"search",mixins:[_mixinsNetworkMixin2["default"]({index:_hub.Stores.Index,ui:_hub.Stores.UI})],componentWillMount:function(){_hub.Actions.UI.toIndex()},renderManga:function(){var e=this.state.index;return(e.results?e.results:e.sorted).slice(0,24).map(function(e){return _react2["default"].createElement(_viewsMangaCard2["default"],{key:e.i,manga:e})})},search:function(){_hub.Actions.UI.search(_react2["default"].findDOMNode(this.refs.search).value)},componentDidMount:function(){_react2["default"].findDOMNode(this.refs.search).focus()},render:function(){var e=this.state,t=e.index,r=e.ui,a=t.results?t.results.length:t.sorted.length;return _react2["default"].createElement("div",null,_react2["default"].createElement(_viewsProgress2["default"],{loading:_constantsProcessConstants2["default"].Loading(t.process)}),_react2["default"].createElement("div",{className:"input-field "+r.color+"-text text-lighten-4"},_react2["default"].createElement("input",{type:"text",ref:"search",onChange:this.search}),_react2["default"].createElement("label",null,"Search titles")),_react2["default"].createElement("h2",{className:"grey-text text-darken-3"},a," title",plural(a)),_react2["default"].createElement("div",{className:"row"},this.renderManga()))}}),module.exports=exports["default"];