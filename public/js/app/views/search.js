"use strict";var _interopRequireDefault=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(exports,"__esModule",{value:!0});var _React=require("react"),_React2=_interopRequireDefault(_React),_Symbiosis=require("../mixins/symbiosis-mixin"),_Symbiosis2=_interopRequireDefault(_Symbiosis),_Actions$Stores=require("../hub"),_MangaCard=require("../views/manga-card"),_MangaCard2=_interopRequireDefault(_MangaCard),_Progress=require("../views/progress"),_Progress2=_interopRequireDefault(_Progress),_Process=require("../constants/process-constants"),_Process2=_interopRequireDefault(_Process),plural=function(e){return 1==e?"":"s"};exports["default"]=_React2["default"].createClass({displayName:"search",mixins:[_Symbiosis2["default"](_Actions$Stores.Stores.MangaIndex)],componentWillMount:function(){_Actions$Stores.Actions.MangaUI.toIndex()},renderManga:function(){var e=this.state;return(e.results?e.results:e.sorted).slice(0,20).map(function(e){return _React2["default"].createElement(_MangaCard2["default"],{key:e.i,manga:e})})},search:function(){_Actions$Stores.Actions.MangaUI.search(_React2["default"].findDOMNode(this.refs.search).value)},componentDidMount:function(){_React2["default"].findDOMNode(this.refs.search).focus()},render:function(){var e=this.state,t=e.results?e.results.length:e.sorted.length;return _React2["default"].createElement("div",null,_React2["default"].createElement(_Progress2["default"],{loading:_Process2["default"].Loading(e.process)}),_React2["default"].createElement("div",{className:"input-field teal-text text-lighten-4"},_React2["default"].createElement("input",{type:"text",ref:"search",onChange:this.search}),_React2["default"].createElement("label",null,"Search titles")),_React2["default"].createElement("h2",{className:"grey-text text-darken-3"},t," title",plural(t)),_React2["default"].createElement("div",{className:"row"},this.renderManga()))}}),module.exports=exports["default"];